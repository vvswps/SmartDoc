<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Detail Update Form</title>
	<link rel="stylesheet" href="/css/detailUpdateForm.css">
</head>

<body>
	<h1>Update Details Form</h1>
	<form method="post" action="update-user-details" th:object="${personalDetails}">

		<label for="name">Name:</label>
		<input required th:field="*{name}" type="text" id="name" name="name">


		<div class="two-in-a-row">
			<div>
				<label for="erp-id">ERP ID:</label>
				<input required th:field="*{erpId}" type="text" id="erp-id" name="erpId">
			</div>

			<div>
				<label for="gender">Gender</label>
				<select required th:field="*{gender}" id="gender" name="gender">
					<option value="" disabled selected>Gender</option>
					<option value="Female">Female</option>
					<option value="Male">Male</option>
				</select>
			</div>
		</div>


		<div class="two-in-a-row">
			<div>
				<label for="official-email">Official Email:</label>
				<input required th:field="*{offEmail}" type="email" id="offEmail" name="official-email">
			</div>

			<div>
				<!-- <label for="personal-email">Personal Email:</label>
					<input required type="email" id="perEmail"
					name="personal-email" > -->
				<label for="personal-email">Personal Email</label>
				<input required type="text" id="perEmail" th:field="*{perEmail}" name="personal-email">
			</div>
		</div>

		<div class="two-in-a-row">
			<div>
				<label for="dob">Date of Birth:</label>
				<input required th:field="*{dob}" type="date" id="dob" name="dob">
			</div>
			<div>
				<label for="dept">Department:</label>
				<select th:field="*{dept}" id="department" name="department">
					<option value="" disabled selected>Select department</option>
					<option value="Mechanical Engineering">Mechanical
						Engineering</option>
					<option value="Electrical Engineering">Electrical
						Engineering</option>
					<option value="Computer Science">Computer Science</option>
					<option value="Civil Engineering">Civil Engineering</option>
					<option value="Chemical Engineering">Chemical Engineering</option>
				</select>
			</div>
		</div>

		<div class="two-in-a-row">
			<div>
				<label for="phone">Phone:</label>
				<input required th:field="*{mobileNumber}" type="tel" id="phone" name="mobileNumber"
					pattern="[0-9]{10}">

			</div>
			<div>
				<label for="whatsapp">Whatsapp: </label>
				<input required th:field="*{whatsNumber}" type="tel" id="whatsapp" name="whatsNumber"
					pattern="[0-9]{10}">
				<!-- <label> <input id="copy-phone-checkbox" type="checkbox" onclick="copyPhoneNumber()"> Same as
					phone
					number
				</label> -->
			</div>
		</div>

		<div class="two-in-a-row">
			<div>
				<label for="googleId">Google Scholar Id</label>
				<input th:field="*{googleId}" type="text" id="googleId" name="googleId">
			</div>

			<div>
				<label for="scopusId">Scopus Id</label>
				<input th:field="*{scopusId}" type="text" id="scopusId" name="scopusId">
			</div>
		</div>
		<div>
			<div>
				<label for="sciId">SCI Id</label>
				<input th:field="*{sciId}" type="text" id="sciId" name="sciId">
			</div>
		</div>

		<h2>Experience</h2>
		<div class="two-in-a-row">
			<div>
				<label for="industry-experience">Industry:</label>
				<input th:field="*{expInd}" type="number" id="industry-experience" name="expInd">
			</div>
			<div>
				<label for="academic-experience">Academic:</label>
				<input th:field="*{expAcd}" type="number" id="academic-experience" name="expAcd">
			</div>
		</div>


		<div class="two-in-a-row">
			<div>
				<label for="date-of-joining">Date of Joining:</label>
				<input th:field="*{doj}" type="date" id="date-of-joining" name="doj">
			</div>
			<div>
				<label for="date-of-leaving">Date of Leaving:</label>
				<input th:field="*{dol}" type="date" id="date-of-leaving" name="dol">
			</div>
		</div>

		<h2>Permanent Address</h2>
		<label for="permanent-address">Address</label>
		<input required th:field="*{perAdd}" type="text" id="permanent-address" name="perAdd">
		<div class="two-in-a-row">
			<div>
				<label for="permanent-city">City:</label>
				<input required th:field="*{perCity}" type="text" id="permanent-city" name="perCity">
			</div>
			<div>
				<label for="permanent-state">State:</label>
				<input required th:field="*{perState}" type="text" id="permanent-state" name="perState">
			</div>
		</div>
		<div class="two-in-a-row">
			<div>
				<label for="permanent-country">Country:</label>
				<input required th:field="*{perCunt}" type="text" id="permanent-country" name="perCunt">
			</div>
			<div>
				<label for="permanent-pincode">Pincode:</label>
				<input required th:field="*{perPin}" type="text" id="permanent-pincode" name="perPin">
			</div>
		</div>

		<h2>Current Address</h2>
		<!-- <label> <input type="checkbox" id="copy-address-checkbox" onclick="copyPermanentAddress()"> Same as
			permanent address
		</label> -->
		<label for="current-address">Address:</label>
		<input required th:field="*{curAdd}" type="text" id="current-address" name="curAdd">

		<div class="two-in-a-row">
			<div>
				<label for="current-city">City:</label>
				<input required th:field="*{currCity}" type="text" id="current-city" name="currCity">
			</div>
			<div>
				<label for="current-state">State:</label>
				<input required th:field="*{currState}" type="text" id="current-state" name="currState">
			</div>
		</div>
		<div class="two-in-a-row">
			<div>
				<label for="current-country">Country:</label>
				<input required th:field="*{currCunt}" type="text" id="current-country" name="currCunt">
			</div>
			<div>
				<label for="current-pincode">Pincode:</label>
				<input required th:field="*{currPin}" type="text" id="current-pincode" name="currPin">
			</div>
		</div>

		<button type="submit">Submit</button>
	</form>
	<script>
		function copyPhoneNumber() {
			var phoneInput = document.getElementById("phone");
			var whatsappInput = document.getElementById("whatsapp");
			if (phoneInput.value !== "") {
				whatsappInput.value = phoneInput.value;
			} else {
				whatsappInput.value = "";
			}
			if (document.getElementById("copy-phone-checkbox").checked) {
				phoneInput.oninput = function () {
					whatsappInput.value = phoneInput.value;
				};
				whatsappInput.disabled = true;
			} else {
				whatsappInput.disabled = false;
			}
		}

		function copyPermanentAddress() {
			var permanentAddressInput = document.getElementById("permanent-address");
			var currentAddressInput = document.getElementById("current-address");
			var currentCityInput = document.getElementById("current-city");
			var currentStateInput = document.getElementById("current-state");
			var currentCountryInput = document.getElementById("current-country");
			var currentPincodeInput = document.getElementById("current-pincode");

			function updateCurrentAddressFields() {
				currentAddressInput.value = permanentAddressInput.value;
				currentCityInput.value = document.getElementById("permanent-city").value;
				currentStateInput.value = document.getElementById("permanent-state").value;
				currentCountryInput.value = document.getElementById("permanent-country").value;
				currentPincodeInput.value = document.getElementById("permanent-pincode").value;
			}

			function toggleCurrentAddressFields(disabled) {
				currentAddressInput.disabled = disabled;
				currentCityInput.disabled = disabled;
				currentStateInput.disabled = disabled;
				currentCountryInput.disabled = disabled;
				currentPincodeInput.disabled = disabled;
			}

			if (permanentAddressInput.value !== "") {
				if (document.getElementById("copy-address-checkbox").checked) {
					updateCurrentAddressFields();
					// toggleCurrentAddressFields(true);
				} else {
					// toggleCurrentAddressFields(false);
				}
			} else {
				currentAddressInput.value = "";
				currentCityInput.value = "";
				currentStateInput.value = "";
				currentCountryInput.value = "";
				currentPincodeInput.value = "";
				toggleCurrentAddressFields(document.getElementById("copy-address-checkbox").checked);
			}
		}

		["permanent-address", "permanent-city", "permanent-state", "permanent-country", "permanent-pincode"].forEach(function (fieldId) {
			document.getElementById(fieldId).oninput = function () {
				if (document.getElementById("copy-address-checkbox").checked) {
					copyPermanentAddress();
				}
			};
		});

		document.getElementById("copy-address-checkbox").onchange = function () {
			if (this.checked) {
				copyPermanentAddress();
			} else {
				toggleCurrentAddressFields(false);
			}
		};
	</script>


</body>

</html>